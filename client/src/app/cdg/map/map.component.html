<nb-card>
  <nb-card-header>
    <div style="position:relative" id="header-container">
      <div style="width:200px; display:inline-block;">
        MapType:
        <cdg-dropdown [values]="mapTypeList" name="MapType"></cdg-dropdown>
      </div>
      <div style="width:200px; display:inline-block;">
        Saved Maps:
        <cdg-dropdown  [values]="savedMapList" name="No Saved Maps" [disabled]="disabled"></cdg-dropdown>
      </div>
      <div style="padding-top:0.7rem;position:absolute;right:10px;display:inline-block;">
        Districts Map
      </div>
    </div>
  </nb-card-header>
  <nb-card-body>
  <mgl-map
    [style]="'mapbox://styles/mapbox/streets-v10'"
    [zoom]="[6]"
    [center]="[-89, 46]"
    (load)="map = $event"
  >
   <mgl-geojson-source
     id="states"
     [(data)]="mapObject"
   ></mgl-geojson-source>

   <mgl-layer
      id="state-fills"
      type="fill"
      source="states"
      (mouseMove)="onPrecinctHover($event)"
      (mouseLeave)="onPrecinctExit()"
      [paint]="{
        'fill-color': {
              property: 'CongDist',
              type: 'interval',
              stops: [
                  [1, '#51bbd6'],
                  [8, '#f1f075'],
                  [10000, '#f28cb1']
              ]
          },
          'fill-opacity': 0.5
      }"
   >
    </mgl-layer>
      <mgl-layer
      *ngIf="currPrecinct"
      id="state-popup"
      type="fill"
      source="states"
      [paint]="{
        'fill-color': {
              property: 'CongDist',
              type: 'interval',
              stops: [
                  [1, '#51bbd6'],
                  [8, '#f1f075'],
                  [10000, '#f28cb1']
              ]
          },
          'fill-opacity': 0.5
      }"
    >
    <mgl-popup [(lngLat)]="popupCords" >
      Precinct: {{currPrecinct.Precinct}}
      <br>
      PrecinctID: {{currPrecinct.PrecinctID}}
      <br>
      County: {{currPrecinct.County}}
      <br>
      CountyID: {{currPrecinct.CountyID}}
      <br>
      CongressionalDistrict: {{currPrecinct.CongDist}}
      <br>
      MNSenDist: {{currPrecinct.MNSenDist}}
      <br>
      MNLegDist: {{currPrecinct.MNSenDist}}
      <br>
      CtyComDist: {{currPrecinct.CtyComDist}}
    </mgl-popup>
    </mgl-layer>
  </mgl-map>
  </nb-card-body>
</nb-card>